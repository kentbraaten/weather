<ng-select class="custom" [items]="locations$ | async"
               bindLabel="city"
               [groupBy]="groupByCountry"
               [compareWith]="compareLocations"
               [(ngModel)]="selectedLocationId"
               [selectableGroupAsModel]="true"
               (change)="locationSelected($event)"
               (search)="runLookup($event)"         
    > 
    <ng-template ng-optgroup-tmp let-item="item">
      {{item.country}}
  </ng-template>
  </ng-select>